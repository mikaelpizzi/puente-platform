# -----------------------------------------------------------------------------
# Global defaults (safe placeholders only, never commit real secrets)
# -----------------------------------------------------------------------------
NODE_ENV=development
LOG_LEVEL=debug
TIMEZONE=America/Lima

# -----------------------------------------------------------------------------
# API Gateway (NestJS)
# -----------------------------------------------------------------------------
API_GATEWAY_PORT=3000
API_GATEWAY_ALLOWED_ORIGINS=http://localhost:5173
API_GATEWAY_BASE_URL=http://localhost:3000
AUTH_SERVICE_URL=http://localhost:3001
PRODUCTS_SERVICE_URL=http://localhost:3002
FINANCE_SERVICE_URL=http://localhost:3003
LOGISTICS_SERVICE_URL=http://localhost:3004
API_GATEWAY_RATE_LIMIT_WINDOW_MS=60000
API_GATEWAY_RATE_LIMIT_MAX=60

# -----------------------------------------------------------------------------
# Auth Service (NestJS + PostgreSQL on Aiven/Fly.io)
# -----------------------------------------------------------------------------
AUTH_SERVICE_PORT=3001
AUTH_DATABASE_URL=postgresql://USER:PASSWORD@HOST:26257/auth_service
AUTH_JWT_ACCESS_SECRET=replace-with-random-64b
AUTH_JWT_REFRESH_SECRET=replace-with-random-64b
AUTH_JWT_TTL=15m
AUTH_REFRESH_TTL=7d
AUTH_ARGON2_MEMORY=19456
AUTH_ARGON2_ITERATIONS=2
AUTH_ARGON2_PARALLELISM=1

# -----------------------------------------------------------------------------
# Products Service (NestJS + MongoDB Atlas)
# -----------------------------------------------------------------------------
PRODUCTS_SERVICE_PORT=3002
PRODUCTS_MONGO_URI=mongodb+srv://USER:PASSWORD@cluster0.example.mongodb.net/products
PRODUCTS_SEARCH_INDEX=catalog_attributes
PRODUCTS_MEDIA_BUCKET=render-static-products

# -----------------------------------------------------------------------------
# Finance Service (NestJS + PostgreSQL + payment providers)
# -----------------------------------------------------------------------------
FINANCE_SERVICE_PORT=3003
FINANCE_DATABASE_URL=postgresql://USER:PASSWORD@HOST:26257/finance_service
FINANCE_LEDGER_BASE_CURRENCY=PEN
MERCADO_PAGO_ACCESS_TOKEN=mp-access-token-placeholder
MERCADO_PAGO_WEBHOOK_SECRET=mp-webhook-secret-placeholder
BINANCE_P2P_API_KEY=binance-api-key-placeholder
BINANCE_P2P_API_SECRET=binance-api-secret-placeholder
BINANCE_P2P_MERCHANT_ID=merchant-id-placeholder

# -----------------------------------------------------------------------------
# Logistics Service (NestJS + Valkey/Redis)
# -----------------------------------------------------------------------------
LOGISTICS_SERVICE_PORT=3004
LOGISTICS_VALKEY_URL=rediss://USER:PASSWORD@host.aivencloud.com:12345
LOGISTICS_VALKEY_TLS=true
LOGISTICS_CHANNEL_ASSIGNMENTS=logistics.assignments
LOGISTICS_GEO_KEY=logistics:couriers

# -----------------------------------------------------------------------------
# Frontend (Vite/React PWA)
# -----------------------------------------------------------------------------
VITE_API_GATEWAY_URL=http://localhost:3000/api
VITE_MAPS_TILE_URL=https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png
VITE_RENDER_PUBLIC_URL=https://puente-pwa.onrender.com

# -----------------------------------------------------------------------------
# Provider tokens for automation / CI (never commit values!)
# -----------------------------------------------------------------------------
FLY_API_TOKEN=fly-token-placeholder
FLY_ORG=puente-platform
RENDER_API_KEY=render-api-key-placeholder
AIVEN_API_TOKEN=aiven-token-placeholder
MONGO_ATLAS_PUBLIC_KEY=atlas-public-key
MONGO_ATLAS_PRIVATE_KEY=atlas-private-key
PAYMENT_PROVIDER_SIGNING_KEY=payments-signing-key-placeholder

# -----------------------------------------------------------------------------
# Observability / telemetry placeholders
# -----------------------------------------------------------------------------
OTEL_EXPORTER_OTLP_ENDPOINT=https://otlp.example.com
OTEL_SERVICE_NAME=puente-platform
SENTRY_DSN=https://public@example.ingest.sentry.io/123456

# -----------------------------------------------------------------------------
# Local developer safety switches
# -----------------------------------------------------------------------------
ENABLE_FAKE_PROVIDERS=true
SEED_DEMO_DATA=false