app = "puente-logistics-service"
primary_region = "mia"

[build]
  dockerfile = "Dockerfile"

[env]
  OTEL_SERVICE_NAME = "puente-logistics-service"
  OTEL_SERVICE_NAMESPACE = "my-application-group"
  OTEL_DEPLOYMENT_ENVIRONMENT = "production"
  OTEL_TRACES_EXPORTER = "otlp"
  OTEL_EXPORTER_OTLP_ENDPOINT = "https://otlp-gateway-prod-us-east-2.grafana.net/otlp"
  OTEL_EXPORTER_OTLP_HEADERS = "Authorization=Basic <set-via-fly-secret>"
  OTEL_NODE_RESOURCE_DETECTORS = "env,host,os"

[http_service]
  internal_port = 3004
  force_https = true
  auto_stop_machines = true
  auto_start_machines = true
  min_machines_running = 0
  processes = ["app"]

[[vm]]
  cpu_kind = "shared"
  cpus = 1
  memory_mb = 256
